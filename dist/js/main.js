let checkboxAdd=document.querySelector("#checkboxAdd"),checkbox=document.querySelectorAll(".checkbox__box"),listWrapper=document.querySelector(".list__wrapper"),inputWrapper=document.querySelectorAll(".input__wrapper"),itemAmount=document.querySelector(".items__amount"),container=document.querySelector(".container"),textboxAdd=document.querySelector(".add"),btnClear=document.querySelector(".btn.--clear"),btnWrapper=document.querySelector(".btn__wrapper"),footer=document.querySelector(".footer");setInterval((()=>{inputWrapper=document.querySelectorAll(".input__wrapper"),checkbox=document.querySelectorAll(".checkbox__box")}),500);let listSet=new Set,listSetChecked=new Set,mode="light";function clearList(){for(;listWrapper.firstChild;)listWrapper.removeChild(listWrapper.firstChild)}function generateNewItem(e,t){let c=document.createElement("div"),l="";"light"==mode?(l='<div class="checkbox__box --light '+t+' "></div><label class="checkbox__label --show --light"><input type="checkbox" class="--input"/>'+e+'</label><div class="--delete""></div>',c.classList.add("input__wrapper","--show","--light")):(l='<div class="checkbox__box --dark '+t+' "></div><label class="checkbox__label --show --dark"><input type="checkbox" class="--input"/>'+e+'</label><div class="--delete""></div>',c.classList.add("input__wrapper","--show","--dark")),c.id=e,c.innerHTML=l,listWrapper.appendChild(c)}function showActiveItem(){listSet.forEach((e=>{generateNewItem(e,"")}))}function showCheckedItem(){listSetChecked.forEach((e=>{generateNewItem(e,"checked")}))}function showItem(){setTimeout((()=>{clearList();let e=location.hash;"#active"==e?showActiveItem():"#completed"==e?showCheckedItem():(showCheckedItem(),showActiveItem()),itemAmount.innerHTML=listSet.size+" items left"}),1)}function showList(){document.addEventListener("click",(e=>{e.target.classList.contains("btn")&&showItem()}))}function checkItem(){document.addEventListener("click",(e=>{let t=e.target;if(t.classList.contains("checkbox__box")){t.classList.toggle("checked");let e=t.parentNode.id;listSet.has(e)?(listSet.delete(e),listSetChecked.add(e)):(listSet.add(e),listSetChecked.delete(e)),itemAmount.innerHTML=listSet.size+" items left"}}))}function addItem(){document.addEventListener("keyup",(e=>{let t=e.target;if("Enter"==e.key&&t.classList.contains("add")){if(""==t.value)return alert("Please enter a new item!"),!1;if(checkboxAdd.classList.contains("checked"))listSetChecked.add(t.value);else{if(listSet.has(t.value))return alert("You have already add this in your list!"),!1;listSet.add(t.value)}showItem(),t.value=""}}))}function deleteItem(){document.addEventListener("click",(e=>{let t=e.target;if(t.classList.contains("--delete")){let e=t.parentNode.id;listSetChecked.has(e)&&listSetChecked.delete(e),listSet.has(e)&&listSet.delete(e)}else t.classList.contains("--clear")&&listSetChecked.clear();showItem()}))}function toggleMode(){document.addEventListener("click",(e=>{let t=e.target;if(t.classList.contains("mode")){function c(e){e.classList.toggle("--light"),e.classList.toggle("--dark")}mode="light"==mode?"dark":"light",c(t),c(container);for(let e=0;e<inputWrapper.length;e++)c(inputWrapper[e]),c(checkbox[e]);c(textboxAdd),c(itemAmount),c(btnClear),c(btnWrapper),c(footer)}}))}toggleMode(),showList(),checkItem(),addItem(),deleteItem();